---
title: Ad-blocking and the Regrettable URL Format
layout: post
tags: [rant, web]
uuid: b5672a07-1e2d-39c7-6017-95df38dcf6af
---

<!-- 2 August 2009 -->
<p>
I use <a href="http://adblockplus.org/en/">Adblock Plus</a> to block
advertisements and, more importantly, invisible privacy-breaking
trackers (most people aren't even aware of these). I think ad-blocking
is actually easier than ever, because ads are served from a relatively
small number of domains, rather than from the websites
themselves. Instead of patterns matching parts of a path, I can just
block domains.
</p>
<p>
Adblock Plus emphasizes this by providing, by default, a pattern
matching the server root. Example,
</p>
<pre>
http://ads.example.com/*
</pre>
<p>
But sometimes advertising websites are trickier, and their sub-domain
is a fairly unique string,
</p>
<pre>
http://ldp38fm.example.com/*
</pre>
<p>
That pattern isn't very useful. I want something more like,
</p>
<pre>
http://*.example.com/*
</pre>
<p>
Unfortunately Adblock Plus doesn't provide this pattern automatically
yet, so I have to do it manually. I think this pattern is less obvious
because the URL format is actually broken. Notice have have two
matching globs (*) rather than just one, even though I am simply
blocking everything under a certain level.
</p>
<p>
Tim Berners-Lee <a href="http://en.wikipedia.org/wiki/URL#History">
regrets the format of the URL</a>, and I agree with him. This is what
URLs like <code>http://ads.example.com/spy-tracker.js</code>
<i>should</i> look like,
</p>
<pre>
http://com/example/ads/spy-tracker.js
</pre>
<p>
It's a single coherent hierarchy with each level in order. This makes
so much more sense! If I wanted to block example.com and all it's
sub-domains, the pattern is much simpler and less error prone,
</p>
<pre>
http://com/example/*
</pre>
<p>
To anyone who ever reinvents the web: please get it right next time.
</p>
<p>
<b>Update</b>: There is significant further discussion in the comments.
</p>
